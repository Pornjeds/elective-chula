
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>แก้ไขข้อมูลใน Database: Y-Ex, subjective</title>

    <!-- Bootstrap core CSS -->
    <link href="../scripts/css/bootstrap.min.css" rel="stylesheet">
    <link href="../scripts/css/jasny-bootstrap.min.css" rel="stylesheet">
    <link href="../scripts/css/bootstrap-select.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../scripts/css/admin_template.css" rel="stylesheet">

    <!--
      Loading Handsontable (full distribution that includes all dependencies apart from jQuery)
      -->
      <script src="../scripts/js/handsontable.full.min.js"></script>
      <link rel="stylesheet" media="screen" href="../scripts/css/handsontable.full.min.css">
  
  </head>

  <body>

    <div class="topnavbar">
        <div class="topnavbar-right">
          <ul>
            <li>
              <p class="topnavbar-text"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Logged in as Admin</p>
            </li>
            <li>
              <p class="topnavbar-text"><a href="../index.html">Log out</a></p>
            </li>
          </ul>
        </div>
    </div>

  <div class="navmenu navmenu-default navmenu-fixed-left offcanvas">
      <a class="navmenu-brand" href="#">Y-EX MBA</a>
      <ul class="nav navmenu-nav">
        <li><a href="../navmenu/">Import ข้อมูล</a></li>
        <li class="active"><a href="./">จัดการวิชาเรียน</a></li>
        <li><a href="../navmenu-reveal/">แสดงผลการเลือก</a></li>
      </ul>
      <ul class="nav navmenu-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advance<b class="caret"></b></a>
          <ul class="dropdown-menu navmenu-nav">
            <li><a href="#">จัดการสิทธิ์</a></li>
            <li><a href="#">แก้ไขข้อมูลใน Database</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Nav header</li>
            <li><a href="#">Separated link</a></li>
            <li><a href="#">One more separated link</a></li>
          </ul>
        </li>
      </ul>
      <ul class="nav navmenu-nav">
        <li><a href="#"><font color="red">ออกจากระบบ</font></a></li>
      </uL>
    </div>

    <div class="navbar navbar-default navbar-fixed-top">
      <button type="button" class="navbar-toggle" data-toggle="offcanvas" data-target=".navmenu" data-canvas="body">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>


    <div class="container">

      <ol class="breadcrumb">
        <li><a href="admin_dashboard.html">Home</a></li>
        <li class="active">แก้ไขข้อมูลใน Database<li>
      </ol>

      <div class="starter-template">
        <h1>แก้ไขข้อมูลใน Database</h1>
        <p>
          โปรดเลือก template ที่คุณต้องการ
        </p>
      </div>
      <div style='background:#f6f6f6; width: 100%; border: 1px solid #c8c8c8; text-align: center;'>
            <div style='padding:10px;'>
                <div style='padding: 5px 5px 5px 5px; margin-right: 5px; float:left;'>
                    <select id='templateList' class="selectpicker">
                        <option value="" selected disabled>Template list</option>
                        <option value='studentInformation'>ข้อมูลของนักศึกษา</option>
                    </select>
                </div> 
                <div style='padding: 5px 5px 5px 5px; margin-right: 5px; float:left; display: none;'>
                    <select id='studentClass' class="selectpicker">
                        <option value="" selected disabled>รุ่นนักศึกษา</option>
                        <option>20/1</option>
                        <option>20/2</option>
                        <option>21/1</option>
                        <option>21/2</option>
                    </select>
                </div> 
                <div style='padding: 5px 5px 5px 5px; float: left;display: none;'>
                    <input id='bt_query' type='button' class="btn btn-success" onClick='generateReport();' value='ค้นหา' />
                </div>
                <div style='clear:both'></div>
            </div>
         </div>

      <hr>
      
      <div style='display:none'>
        <h4 id='criteriaSelection'></h4>
        <div style='margin-bottom: 18px;'>ดับเบิ้ลคลิ๊กแก้ไข cell ที่ต้องการ จากนั้นกดปุ่ม submit ครับ</div>
        <!-- EDITABLE GRID-->
        <div id="resultGridTable"></div>
        <input style='margin-top: 18px;' id='bt_submit' type='button' class="btn btn-success" onClick='sendToDB();' value='submit' />
      </div>

      <hr>
      <footer class="footer">
          <div style='margin-bottom: 60px'>
            We are the same <span style='color:#cb70d7; font-weight: bold;'>CHULA</span> so let talk together.
          </div>
        </footer>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../scripts/js/jquery.min.js"></script>
    <script src="../scripts/js/bootstrap.min.js"></script>
    <script src="../scripts/js/jasny-bootstrap.min.js"></script>    
    <script src="../scripts/js/bootstrap-select.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../scripts/js/ie10-viewport-bug-workaround.js"></script>

    <script>
        $(document).ready(function () {
            $('.selectpicker').selectpicker();
            $('#templateList').change(function(){
                if( $(this).val() === 'studentInformation'){
                    $('#studentClass').parent().css('display', '');
                    $('#bt_query').parent().css('display','');
                }
            });            
        });
        
        var hot;
        
        function generateReport(){
            var result1 = $('#templateList').val();
            var result2 = $('#studentClass').val();
            if( result1 === null || result2 === null ){
                alert( 'Please select criteria first');
            }else{
                //DISPLAY MOC-DATA
                $('#criteriaSelection').parent().css('display','');
                $('#criteriaSelection').text( result1 + ',' + result2);
                var header = ["รหัสนิสิต", "ชื่อ-นามสกุล", "ที่ทำงาน" ,"สิทธิ์"];
                var data = [
                    ["47010675", "นายกี้ นามสมมุติ", "Reuters", "admin"],
                    ["47010676", "นายเอี่ยว นามสมมุติ", "I am consultant", "user"],
                    ["47010677", "นายเบียร์ นามสมมติ", "Reuters", "user"],
                    ["47010678", "นายวบอย นามสมมติ","Reuters", "admin"],
                    ["47010731", "นายลิง นามสมมติ", "SCG", "user"]
                ];
                
                //DESTROY EXISTING
                if( hot ){
                    hot.destroy();
                }
                
                var container = document.getElementById('resultGridTable');
                hot = new Handsontable(container,
                {
                    colHeaders: header,
                    data: data,
                    minSpareRows: 1
                });
                
                $('#resultGridTable table')[0].className = 'table';
                $('#resultGridTable table')[1].className = 'table';
                hot.render();
            }
        };
        
        function sendToDB(){
            alert( hot.getData() );
        }
    </script>
  
    </body>
</html>
